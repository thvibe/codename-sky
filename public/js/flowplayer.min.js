$(function(){"function"==typeof $.fn.flowplayer&&$("video").parent(".flowplayer").flowplayer()});var instances=[],extensions=[],UA=window.navigator.userAgent;window.flowplayer=function(e){return $.isFunction(e)?extensions.push(e):"number"==typeof e||void 0===e?instances[e||0]:$(e).data("flowplayer")},$(window).on("beforeunload",function(){$.each(instances,function(e,o){o.conf.splash?o.unload():o.bind("error",function(){$(".flowplayer.is-error .fp-message").remove()})})});var supportLocalStorage=!1;try{"object"==typeof window.localStorage&&(window.localStorage.flowplayerTestStorage="test",supportLocalStorage=!0)}catch(ignored){}$.extend(flowplayer,{version:"@VERSION",engine:{},conf:{},support:{},defaults:{debug:!1,disabled:!1,engine:"html5",fullscreen:window==window.top,keyboard:!0,ratio:9/16,adaptiveRatio:!1,flashfit:!1,rtmp:0,splash:!1,live:!1,swf:"//@CDN/@VERSION/@CDN_PATHflowplayer.swf",speeds:[.25,.5,1,1.5,2],tooltip:!0,volume:supportLocalStorage?"true"==localStorage.muted?0:isNaN(localStorage.volume)?1:localStorage.volume||1:1,errors:["","Video loading aborted","Network error","Video not properly encoded","Video file not found","Unsupported video","Skin not found","SWF file not found","Subtitles not found","Invalid RTMP URL","Unsupported video format. Try installing Adobe Flash."],errorUrls:["","","","","","","","","","","http://get.adobe.com/flashplayer/"],playlist:[]}});var playerCount=1;$.fn.flowplayer=function(e,o){return"string"==typeof e&&(e={swf:e}),$.isFunction(e)&&(o=e,e={}),!e&&this.data("flowplayer")||this.each(function(){var n=$(this).addClass("is-loading"),a=$.extend({},flowplayer.defaults,flowplayer.conf,e,n.data()),t=$("video",n).addClass("fp-engine").removeAttr("controls"),i=t.length?new URLResolver(t):null,r={},s,l;if(a.playlist.length){var d=t.attr("preload"),u;t.length&&t.replaceWith(u=$("<p />")),t=$("<video />").addClass("fp-engine"),u?u.replaceWith(t):n.prepend(t),flowplayer.support.video&&t.attr("preload",d),"string"==typeof a.playlist[0]?t.attr("src",a.playlist[0]):$.each(a.playlist[0],function(e,o){for(var n in o)o.hasOwnProperty(n)&&t.append($("<source />").attr({type:"video/"+n,src:o[n]}))}),i=new URLResolver(t)}var p=n.data("flowplayer");p&&p.unload(),n.data("fp-player_id",n.data("fp-player_id")||playerCount++);try{r=window.localStorage||r}catch(f){}var c=this.currentStyle&&"rtl"===this.currentStyle.direction||window.getComputedStyle&&"rtl"===window.getComputedStyle(this,null).getPropertyValue("direction");c&&n.addClass("is-rtl");var g=p||{conf:a,currentSpeed:1,volumeLevel:"undefined"==typeof a.volume?1*r.volume:a.volume,video:{},disabled:!1,finished:!1,loading:!1,muted:"true"==r.muted||a.muted,paused:!1,playing:!1,ready:!1,splash:!1,rtl:c,load:function(e,o){if(!(g.error||g.loading||g.disabled)){if(e=i.resolve(e),$.extend(e,l.pick(e.sources)),e.src){var a=$.Event("load");n.trigger(a,[g,e,l]),a.isDefaultPrevented()?g.loading=!1:(l.load(e),$.isFunction(e)&&(o=e),o&&n.one("ready",o))}return g}},pause:function(e){return!g.ready||g.seeking||g.disabled||g.loading||(l.pause(),g.one("pause",e)),g},resume:function(){return g.ready&&g.paused&&!g.disabled&&(l.resume(),g.finished&&(g.trigger("resume",[g]),g.finished=!1)),g},toggle:function(){return g.ready?g.paused?g.resume():g.pause():g.load()},seek:function(e,o){if(g.ready){if("boolean"==typeof e){var a=.1*g.video.duration;e=g.video.time+(e?a:-a)}e=s=Math.min(Math.max(e,0),g.video.duration).toFixed(1);var t=$.Event("beforeseek");n.trigger(t,[g,e]),t.isDefaultPrevented()?(g.seeking=!1,n.toggleClass("is-seeking",g.seeking)):(l.seek(e),$.isFunction(o)&&n.one("seek",o))}return g},seekTo:function(e,o){var n=void 0===e?s:.1*g.video.duration*e;return g.seek(n,o)},mute:function(e){return void 0===e&&(e=!g.muted),r.muted=g.muted=e,r.volume=isNaN(r.volume)?a.volume:r.volume,g.volume(e?0:r.volume,!0),g.trigger("mute",e),g},volume:function(e,o){return g.ready&&(e=Math.min(Math.max(e,0),1),o||(r.volume=e),l.volume(e)),g},speed:function(e,o){return g.ready&&("boolean"==typeof e&&(e=a.speeds[$.inArray(g.currentSpeed,a.speeds)+(e?1:-1)]||g.currentSpeed),l.speed(e),o&&n.one("speed",o)),g},stop:function(){return g.ready&&(g.pause(),g.seek(0,function(){n.trigger("stop")})),g},unload:function(){return n.hasClass("is-embedding")||(a.splash?(g.trigger("unload"),l.unload()):g.stop()),g},disable:function(e){return void 0===e&&(e=!g.disabled),e!=g.disabled&&(g.disabled=e,g.trigger("disable",e)),g}};g.conf=$.extend(g.conf,a),$.each(["bind","one","unbind"],function(e,o){g[o]=function(e,a){return n[o](e,a),g}}),g.trigger=function(e,o){return n.trigger(e,[g,o]),g},n.data("flowplayer")||n.bind("boot",function(){return $.each(["autoplay","loop","preload","poster"],function(e,o){var n=t.attr(o);void 0!==n&&(a[o]=n?n:!0)}),(a.splash||n.hasClass("is-splash")||!flowplayer.support.firstframe)&&(g.forcedSplash=!a.splash&&!n.hasClass("is-splash"),g.splash=a.splash=a.autoplay=!0,n.addClass("is-splash"),flowplayer.support.video&&t.attr("preload","none")),(a.live||n.hasClass("is-live"))&&(g.live=a.live=!0,n.addClass("is-live")),$.each(extensions,function(e){this(g,n)}),l=flowplayer.engine[a.engine],l&&(l=l(g,n)),l.pick(i.initialSources)?g.engine=a.engine:$.each(flowplayer.engine,function(e,o){return e!=a.engine?(l=this(g,n),l.pick(i.initialSources)&&(g.engine=e),!1):void 0}),instances.push(g),g.engine?(a.splash?g.unload():g.load(),a.disabled&&g.disable(),l.volume(g.volumeLevel),void n.one("ready",o)):g.trigger("error",{code:flowplayer.support.flashVideo?5:10})}).bind("load",function(e,o,t){a.splash&&$(".flowplayer").filter(".is-ready, .is-loading").not(n).each(function(){var e=$(this).data("flowplayer");e.conf.splash&&e.unload()}),n.addClass("is-loading"),o.loading=!0}).bind("ready",function(e,o,t){function i(){n.removeClass("is-loading"),o.loading=!1}t.time=0,o.video=t,a.splash?n.one("progress",i):i(),o.muted?o.mute(!0):o.volume(o.volumeLevel)}).bind("unload",function(e){a.splash&&t.remove(),n.removeClass("is-loading"),g.loading=!1}).bind("ready unload",function(e){var o="ready"==e.type;n.toggleClass("is-splash",!o).toggleClass("is-ready",o),g.ready=o,g.splash=!o}).bind("progress",function(e,o,n){o.video.time=n}).bind("speed",function(e,o,n){o.currentSpeed=n}).bind("volume",function(e,o,n){o.volumeLevel=Math.round(100*n)/100,o.muted?n&&o.mute(!1):r.volume=n}).bind("beforeseek seek",function(e){g.seeking="beforeseek"==e.type,n.toggleClass("is-seeking",g.seeking)}).bind("ready pause resume unload finish stop",function(e,o,t){g.paused=/pause|finish|unload|stop/.test(e.type),"ready"==e.type&&(g.paused="none"==a.preload,t&&(g.paused=!t.duration||!a.autoplay&&"none"!=a.preload)),g.playing=!g.paused,n.toggleClass("is-paused",g.paused).toggleClass("is-playing",g.playing),g.load.ed||g.pause()}).bind("finish",function(e){g.finished=!0}).bind("error",function(){t.remove()}),n.trigger("boot",[g,n]).data("flowplayer",g)})};